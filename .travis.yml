language: java
install:
- export main_repo_branch=$TRAVIS_BRANCH
- if [[ ${main_repo_branch} != "master" && ${main_repo_branch} != "development" ]]; then main_repo_branch=development ; fi
- git clone https://github.com/openworm/org.geppetto.model.git -b $main_repo_branch
- cd org.geppetto.model
- mvn install
- cd ..

- # Todo: remove for development
- if [ $TRAVIS_BRANCH == "pg_netpyne" ]; then main_repo_branch="pg_netpyne" ; fi
- echo "Cloning branch " $main_repo_branch

- git clone https://github.com/openworm/org.geppetto.core.git -b $main_repo_branch
- cd org.geppetto.core
- mvn install
- cd ..
env:
  global:
    secure: eFdQrJRGpJj5PeTR1E7msCBPse24wv7tC8n1cWGl/Dq/7BFKRzW8uewBpFrqeKQzSUBEvgFe/kqjhMp9ZVGcHfobXxVxR0w7KF4qLsdM5wZDxgNmbsYCJWyeCOdRjscBkqab1ldq3DsMYqlgmWhRTxcd6bNtpuwU7pL7SPYJyJg=
